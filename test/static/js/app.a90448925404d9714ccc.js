webpackJsonp([1],{137:function(e,t,a){"use strict";var r=a(33),n=a.n(r),s=a(32),l=a.n(s),i=a(138),o=this,c=function(){var e=l()(n.a.mark(function e(t){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(i.a)("GET","http://182.61.23.35:8001/user/list",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=l()(n.a.mark(function e(t){var r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(i.a)("POST","http://182.61.23.35:8001/user/update",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,o)}));return function(t){return e.apply(this,arguments)}}();t.a={getUserList:c,updateUserInfo:u}},138:function(e,t,a){"use strict";var r=a(33),n=a.n(r),s=a(32),l=a.n(s),i=a(118),o=a.n(i),c=this,u=a(209),p=function(){var e=l()(n.a.mark(function e(t,a,r){var s,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!=t){e.next=7;break}return e.next=3,o.a.get(a,{params:r}).then(function(e){return e}).catch(function(e){return e});case 3:return s=e.sent,e.abrupt("return",s);case 7:if("POST"!=t){e.next=12;break}return e.next=10,o.a.post(a,u.stringify(r),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){return e}).then(function(e){return e});case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}},e,c)}));return function(t,a,r){return e.apply(this,arguments)}}();t.a=p},139:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(5),n=a(95),s=a.n(n),l=a(92),i=a(91),o=(a.n(i),a(93)),c=a.n(o),u=a(94);a.n(u);r.default.config.productionTip=!1,r.default.use(c.a),new r.default({el:"#app",router:l.a,template:"<App/>",components:{App:s.a}})},140:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},141:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(33),n=a.n(r),s=a(32),l=a.n(s),i=a(143),o=a.n(i),c=a(142),u=a.n(c),p=a(60),d=a.n(p),f=a(137),m=a(219),b=a.n(m);t.default={data:function(){return{topMsg:"",tableData:[],collect01:0,collect02:0,currentLogin:1,dialogFormVisible:!1,dialogCheckFormVisible:!1,selectTable:{},checkTable:{},phoneWarm:!1,usernameWarm:!1,salaryWarm:!1,usernameWarmMsg:"",phoneWarmMsg:"",salaryWarmMsg:"",radio:"1",reqTime:0}},methods:{handleEdit:function(e){this.phoneWarm=!1,this.usernameWarm=!1,this.salaryWarm=!1,this.dialogFormVisible=!0;var t=d()({},u()(o()(e)),e);this.selectTable=t,this.radio="男"==this.selectTable.gender?"1":"2"},handleCheck:function(e){this.dialogCheckFormVisible=!0,this.checkTable=d()({},u()(o()(e)),e);var t=(this.checkTable.phone+"").split("");t.splice(3,4,"****"),this.checkTable.phone=t.join("")},primaryFromData:function(){var e=this;return l()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/,Boolean(e.selectTable.username)){t.next=7;break}return e.usernameWarm=!0,e.usernameWarmMsg="用户名不能为空",t.abrupt("return");case 7:if(Boolean(e.selectTable.salary)){t.next=13;break}return e.salaryWarm=!0,e.salaryWarmMsg="收入不能为空",t.abrupt("return");case 13:if(Boolean(e.selectTable.phone)){t.next=18;break}e.phoneWarm=!0,e.phoneWarmMsg="手机号不能为空",t.next=29;break;case 18:if(a.test(e.selectTable.phone)){t.next=24;break}return e.phoneWarm=!0,e.phoneWarmMsg="请输入有效的手机号",t.abrupt("return");case 24:return e.selectTable.gender="1"==e.radio?"男":"女",t.next=27,f.a.updateUserInfo(e.selectTable);case 27:r=t.sent,1==r.data.code&&(l()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.tableData.forEach(function(t,a){if(t.id==e.selectTable.id)return void e.$set(e.tableData,a,e.selectTable)});case 1:case"end":return t.stop()}},t,e)}))(),e.dialogFormVisible=!1);case 29:case"end":return t.stop()}},t,e)}))()},refresh:function(e){var t=this;console.log("下拉刷新"),l()(n.a.mark(function a(){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.getUserList({time:t.reqTime});case 2:r=a.sent,t.reqTime++,t.tableData=t.tableData.concat(r.data.data),e("done");case 6:case"end":return a.stop()}},a,t)}))()}},created:function(){var e=this;l()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.getUserList({time:e.reqTime});case 2:a=t.sent,e.reqTime++,e.tableData=a.data.data;case 5:case"end":return t.stop()}},t,e)}))()},computed:{phone:function(){return this.selectTable.phone},username:function(){return this.selectTable.username},salary:function(){return this.selectTable.salary}},watch:{phone:function(e,t){this.phoneWarm=!1},username:function(){this.usernameWarm=!1},salary:function(){this.salaryWarm=!1},tableData:function(){var e=0;this.tableData.forEach(function(t){t.salary>8e3&&e++}),this.tableData[0].salary>=8e3?this.topMsg="你已中奖苹果6！":this.topMsg="赶紧参加活动，您有机会赢取苹果6",this.collect01=(e/this.tableData.length).toFixed(2),this.collect02=(1-this.collect01).toFixed(2)}},components:{PullTo:b.a}}},206:function(e,t){},207:function(e,t){},216:function(e,t,a){a(207);var r=a(90)(a(141),a(218),null,null);e.exports=r.exports},217:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain",attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},218:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userList"},[a("div",{staticClass:"pic flex flex-v flex-align-center"},[a("span",[e._v(e._s(e.topMsg))])]),e._v(" "),a("div",{staticClass:"collect flex flex-r"},[a("h1",[e._v("汇总")]),e._v(" "),a("div",{staticClass:"flex flex-v flex-pack-center"},[a("span",{staticClass:"flex flex-r"},[a("span",[e._v("收入小于8000")]),e._v(" "),a("i",{style:{width:2*e.collect01+"rem"}},[e._v(e._s(100*e.collect01+"%"))])]),e._v(" "),a("span",{staticClass:"flex flex-r"},[a("span",[e._v("收入大于等于8000")]),e._v(" "),a("i",{style:{width:2*e.collect02+"rem"}},[e._v(e._s(100*e.collect02+"%"))])])])]),e._v(" "),a("div",{staticClass:"list"},[a("pull-to",{attrs:{"bottom-load-method":e.refresh,"is-bottom-bounce":!0,"is-top-bounce":!1,"wrapper-height":"500"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"id",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"imgurl",label:"头像"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salary",label:"收入"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.currentLogin==t.row.id?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("修改")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleCheck(t.row)}}},[e._v("详情")])]}}])})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog"},[a("el-dialog",{attrs:{title:"你点击了第"+e.selectTable.id+"条数据"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("el-form",{attrs:{model:e.selectTable}},[a("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"用户名","auto-complete":"off"},model:{value:e.selectTable.username,callback:function(t){e.$set(e.selectTable,"username",t)},expression:"selectTable.username"}}),e._v(" "),e.usernameWarm?a("span",{staticClass:"warm"},[e._v(e._s(e.usernameWarmMsg))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("女")])],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"手机号"},model:{value:e.selectTable.phone,callback:function(t){e.$set(e.selectTable,"phone",t)},expression:"selectTable.phone"}}),e._v(" "),e.phoneWarm?a("span",{staticClass:"warm"},[e._v(e._s(e.phoneWarmMsg))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"收入","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"收入"},model:{value:e.selectTable.salary,callback:function(t){e.$set(e.selectTable,"salary",t)},expression:"selectTable.salary"}}),e._v(" "),e.salaryWarm?a("span",{staticClass:"warm"},[e._v(e._s(e.salaryWarmMsg))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"头像Url","label-width":"100px"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.primaryFromData}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"你点击了第"+e.checkTable.id+"条数据"},model:{value:e.dialogCheckFormVisible,callback:function(t){e.dialogCheckFormVisible=t},expression:"dialogCheckFormVisible"}},[a("el-form",{attrs:{model:e.checkTable}},[a("el-form-item",{attrs:{label:"用户名","label-width":"100px"}},[a("span",{staticClass:"el-span__inner"},[e._v(e._s(e.checkTable.username))])]),e._v(" "),a("el-form-item",{attrs:{label:"性别","label-width":"100px"}},[a("span",{staticClass:"el-span__inner"},[e._v(e._s(e.checkTable.gender))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号","label-width":"100px"}},[a("span",{staticClass:"el-span__inner"},[e._v(e._s(e.checkTable.phone))])]),e._v(" "),a("el-form-item",{attrs:{label:"收入","label-width":"100px"}},[a("span",{staticClass:"el-span__inner"},[e._v("￥"+e._s(e.checkTable.salary))])]),e._v(" "),a("el-form-item",{attrs:{label:"头像Url","label-width":"100px"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogCheckFormVisible=!1}}},[e._v("返回")])],1)],1)],1)])},staticRenderFns:[]}},91:function(e,t,a){"use strict";function r(){var e=l.getBoundingClientRect().width,t=e/7.2;l.style.fontSize=t+"px"}var n,s=window.document,l=s.documentElement;window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(r,0)},!1),window.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(r,0))},!1),console.log("初始化rem"),r()},92:function(e,t,a){"use strict";var r=a(5),n=a(220),s=a(216),l=a.n(s);r.default.use(n.a);var i=[{path:"/",component:l.a}];t.a=new n.a({routes:i})},94:function(e,t){},95:function(e,t,a){a(206);var r=a(90)(a(140),a(217),null,null);e.exports=r.exports}},[139]);